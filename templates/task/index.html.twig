{% extends 'base.html.twig' %}

{% block title %}Todo List
{% endblock %}
{% block stylesheets %}
	<link rel="stylesheet" href="/css/bootstrap.min.css"/>
{% endblock %}
{% block body %}
<div class="container">
    <div class="my-3 row" style="font-size: 25px;">
		{{ form_start(form) }}
			{{ form_row(form.Content) }}
			{{ form_row(form.Importance) }}
		<button class="btn btn-success mx-5 col-2" type="submit">Créer la tâche</button>
		<div class="col-3">
			{{ form_errors(form) }}
		</div>
	{{ form_end(form) }}
	</div>

<ul class="list-group mx-auto col-8 my-5">
	{% for task in tasks %}
    <a class="btn" href="/detail/task/{{task.getId()}}">
  <li class="list-group-item d-flex justify-content-between align-items-center	{{task.isStade() == 1 ? "bg-primary" : "bg-dark"}}">
  {% if task.isImportance() == "1" %}
   <span class="badge bg-danger col-1">Important</span>
   {% endif %}
   <div class="col-7 mx-auto">
    {{task.content()}} 
    </div>
    <div class="col-2">
    {{task.getCreatedAt() is empty ? "" : task.getCreatedAt()|date("m-d-Y H:i:s")}}
    </div>
    <span class="badge {{task.isStade() != 1 ? "bg-success" : "bg-danger"}}">{{task.isStade() == 1 ? "Active" : "Terminé"}}</span>
  </li>
  </a>
			{% endfor %}
</ul>
</div>


</div>
{% endblock %}
